@layer base {
  @font-face {
    font-family: "Bergen Mono";
    src: url("/assets/fonts/BergenMono/BergenMono-Bold.woff2") format("woff2");
    font-weight: 800;
  }

  @font-face {
    font-family: "Bergen Mono";
    src: url("/assets/fonts/BergenMono/BergenMono-Regular.woff2")
      format("woff2");
    font-weight: 400;
  }

  :root {
    --bg: #fff;
    --fg: #000;
    --primary: rgb(253, 100, 66);

    /* @link https://utopia.fyi/type/calculator?c=320,18,1.2,1240,20,1.25,5,2,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l&g=s,l,xl,12 */
    --text-size--2: clamp(0.7813rem, 0.7747rem + 0.0326vi, 0.8rem);
    --text-size--1: clamp(0.9375rem, 0.9158rem + 0.1087vi, 1rem);
    --text-size-0: clamp(1.125rem, 1.0815rem + 0.2174vi, 1.25rem);
    --text-size-1: clamp(1.35rem, 1.2761rem + 0.3696vi, 1.5625rem);
    --text-size-2: clamp(1.62rem, 1.5041rem + 0.5793vi, 1.9531rem);
    --text-size-3: clamp(1.944rem, 1.771rem + 0.8651vi, 2.4414rem);
    --text-size-4: clamp(2.3328rem, 2.0827rem + 1.2504vi, 3.0518rem);
    --text-size-5: clamp(2.7994rem, 2.4462rem + 1.7658vi, 3.8147rem);

    /* @link https://utopia.fyi/space/calculator?c=320,18,1.2,1240,24,1.333,5,2,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l&g=s,l,xl,12 */
    /* Space 3xs: 5px → 6px */
    --space-3xs: clamp(0.3125rem, 0.2908rem + 0.1087vi, 0.375rem);
    /* Space 2xs: 9px → 12px */
    --space-2xs: clamp(0.5625rem, 0.4973rem + 0.3261vi, 0.75rem);
    /* Space xs: 14px → 18px */
    --space-xs: clamp(0.875rem, 0.788rem + 0.4348vi, 1.125rem);
    /* Space s: 18px → 24px */
    --space-s: clamp(1.125rem, 0.9946rem + 0.6522vi, 1.5rem);
    /* Space m: 27px → 36px */
    --space-m: clamp(1.6875rem, 1.4918rem + 0.9783vi, 2.25rem);
    /* Space l: 36px → 48px */
    --space-l: clamp(2.25rem, 1.9891rem + 1.3043vi, 3rem);
    /* Space xl: 54px → 72px */
    --space-xl: clamp(3.375rem, 2.9837rem + 1.9565vi, 4.5rem);
    /* Space 2xl: 72px → 96px */
    --space-2xl: clamp(4.5rem, 3.9783rem + 2.6087vi, 6rem);
    /* Space 3xl: 108px → 144px */
    --space-3xl: clamp(6.75rem, 5.9674rem + 3.913vi, 9rem);

    /* One-up pairs */
    --space-3xs-2xs: clamp(0.3125rem, 0.1603rem + 0.7609vi, 0.75rem);
    --space-2xs-xs: clamp(0.5625rem, 0.3668rem + 0.9783vi, 1.125rem);
    --space-xs-s: clamp(0.875rem, 0.6576rem + 1.087vi, 1.5rem);
    --space-s-m: clamp(1.125rem, 0.7337rem + 1.9565vi, 2.25rem);
    --space-m-l: clamp(1.6875rem, 1.231rem + 2.2826vi, 3rem);
    --space-l-xl: clamp(2.25rem, 1.4674rem + 3.913vi, 4.5rem);
    --space-xl-2xl: clamp(3.375rem, 2.462rem + 4.5652vi, 6rem);
    --space-2xl-3xl: clamp(4.5rem, 2.9348rem + 7.8261vi, 9rem);

    /* Custom pairs */
    --space-s-l: clamp(1.125rem, 0.4728rem + 3.2609vi, 3rem);
    --space-m-xl: clamp(1.6875rem, 0.7092rem + 4.8913vi, 4.5rem);

    --max-width: 60ch;
  }

  body {
    font-family: "Bergen Mono", monospace;
    color: var(--fg);
    background: var(--bg);
    font-size: var(--text-size-0);
    line-height: 1.6;
  }

  h1,
  h2,
  h3 {
    font-family: "Bergen Mono", monospace;
    font-weight: 800;
    line-height: 1.05;
  }

  h1 {
    font-size: var(--text-size-5);
  }

  h2 {
    font-size: var(--text-size-3);
  }

  h3 {
    font-size: var(--text-size-2);
  }

  ul,
  ol {
    padding-inline-start: 1em;
  }

  blockquote {
    padding-inline-start: 1em;
    border-inline-start: 0.3em solid;
    font-size: var(--text-size-1);
  }

  a {
    color: currentColor;
    text-decoration-color: var(--primary);
    text-decoration-thickness: 0.3ex;
    text-underline-offset: 0.3ex;
  }

  a:focus {
    background: var(--focus-bg, var(--fg));
    outline: 3px solid var(--focus-border, var(--fg));
    outline-offset: 0;
    color: var(--focus-fg, var(--bg));
    text-decoration: none;
  }

  .flow > * + * {
    margin-block-start: var(--flow-space, 1em);
  }

  :is(h1, h2, h3, blockquote) {
    --flow-space: 1.5em;
  }

  main {
    /* max-width: 65ch; */
    margin-inline-start: auto;
    margin-inline-end: auto;
  }

  header {
    display: block;
  }

  blockquote {
    max-width: 50ch;
    font-size: var(--text-size-0);
    font-style: italic;
  }

  figure {
    margin-inline: 0;
    margin-block: 0;
  }

  h1 {
    max-width: 20ch;
  }

  h2,
  h3 {
    max-width: 44ch;
  }

  th {
    text-align: left;
  }

  pre.hljs {
    font-family: "Bergen Mono", monospace;
    background: #f6f6f6;
    font-size: var(--text-size--1);
    padding: var(--space-s);
    overflow: scroll;
    border: 4px solid #e6e6e6;
  }

  code:not([data-language]) {
    font-size: var(--text-size--1);
    font-family: "Bergen Mono", monospace;
    background: #f6f6f6;
    outline: 2px solid #f6f6f6;
    box-shadow: 0 0 0 4px #e6e6e6;
  }
}
